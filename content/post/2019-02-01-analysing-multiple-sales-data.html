---
title: Analysing multiple sales data
author: Patrick Ofosuhene
date: '2019-02-01'
slug: analysing-multiple-sales-data
categories:
  - R
tags:
  - plot
  - regression
  - R Markdown
description: ''
featured: ''
featuredalt: ''
featuredpath: ''
linktitle: ''
---



<pre class="r"><code>library(lubridate)</code></pre>
<pre><code>## 
## Attaching package: &#39;lubridate&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:base&#39;:
## 
##     date</code></pre>
<pre class="r"><code>library(tidyverse)</code></pre>
<pre><code>## -- Attaching packages ----------------------------------------------- tidyverse 1.2.1 --</code></pre>
<pre><code>## v ggplot2 3.1.0     v purrr   0.2.5
## v tibble  1.4.2     v dplyr   0.7.8
## v tidyr   0.8.2     v stringr 1.3.1
## v readr   1.2.1     v forcats 0.3.0</code></pre>
<pre><code>## -- Conflicts -------------------------------------------------- tidyverse_conflicts() --
## x lubridate::as.difftime() masks base::as.difftime()
## x lubridate::date()        masks base::date()
## x dplyr::filter()          masks stats::filter()
## x lubridate::intersect()   masks base::intersect()
## x dplyr::lag()             masks stats::lag()
## x lubridate::setdiff()     masks base::setdiff()
## x lubridate::union()       masks base::union()</code></pre>
<pre class="r"><code>folder &lt;- &quot;C:/Users/Patrick/Desktop/DataScience/Project/DataSciTest/wx_data/&quot;      # path to folder that holds multiple .csv files
file_list &lt;- list.files(path=folder, pattern=&quot;*.txt&quot;) # create list of all .csv files in folder

# read in each .csv file in file_list and create a data frame with the same name as the .csv file
my_data &lt;- list()
for (i in 1:length(file_list)){
  assign(file_list[i], 
  my_data[[i]] &lt;- tbl_df(read.table(paste(folder, file_list[i], sep=&#39;&#39;)))
)}


all_data &lt;- my_data%&gt;%
        bind_rows(.id = &quot;dataframe&quot;) %&gt;%
        rename(location = dataframe, date = V1, Sales = V2, Items = V3, profit= V4) %&gt;%
        mutate(Date = as_date(as.character(date)), Year = year(Date), Month = month(Date)) 
        
    glimpse(all_data)   </code></pre>
<pre><code>## Observations: 1,729,957
## Variables: 8
## $ location &lt;chr&gt; &quot;1&quot;, &quot;1&quot;, &quot;1&quot;, &quot;1&quot;, &quot;1&quot;, &quot;1&quot;, &quot;1&quot;, &quot;1&quot;, &quot;1&quot;, &quot;1&quot;, &quot;1&quot;...
## $ date     &lt;int&gt; 19850101, 19850102, 19850103, 19850104, 19850105, 198...
## $ Sales    &lt;int&gt; -22, -122, -106, -56, 11, 28, 22, -6, -22, -39, -44, ...
## $ Items    &lt;int&gt; -128, -217, -244, -189, -78, -50, -11, -106, -100, -1...
## $ profit   &lt;int&gt; 94, 0, 0, 0, 0, 0, 0, 0, 0, 15, 10, 0, 0, 0, 0, 5, 0,...
## $ Date     &lt;date&gt; 1985-01-01, 1985-01-02, 1985-01-03, 1985-01-04, 1985...
## $ Year     &lt;dbl&gt; 1985, 1985, 1985, 1985, 1985, 1985, 1985, 1985, 1985,...
## $ Month    &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,...</code></pre>
<p>Now, we can plot visualize the data sets.</p>
